{"ast":null,"code":"import _slicedToArray from \"/home/maarc/Fac/STL/S3/TPALT/osuProject/Osu-BeatAdvisor/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/home/maarc/Fac/STL/S3/TPALT/osuProject/Osu-BeatAdvisor/client/src/Composants/Login.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Login(props) {\n  _s();\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    login = _useState2[0],\n    setLogin = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    error = _useState6[0],\n    setError = _useState6[1];\n  var getLogin = function getLogin(evt) {\n    setLogin(evt.target.value);\n  };\n  var getPassword = function getPassword(evt) {\n    setPassword(evt.target.value);\n  };\n  var submissionHandler = function submissionHandler(evt) {\n    evt.preventDefault();\n    setError(null);\n    var data = new URLSearchParams();\n    data.append(\"login\", login);\n    data.append(\"password\", password);\n    axios.post(\"/user/login\", data, {\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      withCredentials: true,\n      credentials: \"include\"\n    }).then(function (response) {\n      console.log(response.data);\n      props.setMyLogin(login);\n      props.getConnected();\n      props.setCurrentPage(\"home_page\");\n    }).catch(function (error) {\n      console.log(error.response.data);\n      setError(error.response.data);\n    });\n  };\n  var registerHandler = function registerHandler(evt) {\n    evt.preventDefault();\n    props.setCurrentPage(\"register_page\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: \"30px\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"login\",\n        children: \"Nom d'utilisateur\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"login\",\n        onChange: getLogin\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"mdp\",\n        children: \"Mot de passe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        id: \"mdp\",\n        onChange: getPassword\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: submissionHandler,\n          children: \"Me connecter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"red\"\n        },\n        children: [error.message, \" \", error.detail]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"Pas encore inscrit ?\", /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"register\",\n          href: \"a\",\n          onClick: registerHandler,\n          children: \"S'inscrire\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"NsiARGzEnllXOmChIgPpeeO5KJI=\");\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","axios","jsxDEV","_jsxDEV","Login","props","_s","_useState","_useState2","_slicedToArray","login","setLogin","_useState3","_useState4","password","setPassword","_useState5","_useState6","error","setError","getLogin","evt","target","value","getPassword","submissionHandler","preventDefault","data","URLSearchParams","append","post","headers","withCredentials","credentials","then","response","console","log","setMyLogin","getConnected","setCurrentPage","catch","registerHandler","style","marginTop","children","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","id","onChange","type","onClick","color","message","detail","className","href","_c","$RefreshReg$"],"sources":["/home/maarc/Fac/STL/S3/TPALT/osuProject/Osu-BeatAdvisor/client/src/Composants/Login.js"],"sourcesContent":["import { useState } from \"react\";\nimport axios from \"axios\";\n\nexport default function Login(props) {\n  const [login, setLogin] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(null);\n\n  const getLogin = (evt) => {\n    setLogin(evt.target.value);\n  };\n  const getPassword = (evt) => {\n    setPassword(evt.target.value);\n  };\n\n  const submissionHandler = (evt) => {\n    evt.preventDefault();\n    setError(null);\n    const data = new URLSearchParams();\n    data.append(\"login\", login);\n    data.append(\"password\", password);\n    axios\n      .post(\"/user/login\", data, {\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\n        },\n        withCredentials: true,\n        credentials: \"include\",\n      })\n      .then((response) => {\n        console.log(response.data);\n        props.setMyLogin(login);\n        props.getConnected();\n        props.setCurrentPage(\"home_page\");\n      })\n      .catch((error) => {\n        console.log(error.response.data);\n        setError(error.response.data);\n      });\n  };\n  const registerHandler = (evt) => {\n    evt.preventDefault();\n    props.setCurrentPage(\"register_page\");\n  };\n  return (\n    <div style={{ marginTop: \"30px\" }}>\n      <form>\n        <label htmlFor=\"login\">Nom d'utilisateur</label>\n        <input id=\"login\" onChange={getLogin} />\n        <label htmlFor=\"mdp\">Mot de passe</label>\n        <input type=\"password\" id=\"mdp\" onChange={getPassword} />\n        <div>\n          <button onClick={submissionHandler}>Me connecter</button>\n        </div>\n        {error && (\n          <p style={{ color: \"red\" }}>\n            {error.message} {error.detail}\n          </p>\n        )}\n        <span>\n          Pas encore inscrit ?\n          <a className=\"register\" href=\"a\" onClick={registerHandler}>\n            S'inscrire\n          </a>\n        </span>\n      </form>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}