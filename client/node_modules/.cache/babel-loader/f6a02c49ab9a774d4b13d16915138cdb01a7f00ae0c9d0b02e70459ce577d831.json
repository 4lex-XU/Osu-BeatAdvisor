{"ast":null,"code":"import _slicedToArray from \"/home/maarc/Fac/STL/S3/TPALT/osuProject/Osu-BeatAdvisor/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/home/maarc/Fac/STL/S3/TPALT/osuProject/Osu-BeatAdvisor/client/src/Composants/Register.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Register(props) {\n  _s();\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    email = _useState2[0],\n    setEmail = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    pseudo = _useState4[0],\n    setPseudo = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    passOK = _useState6[0],\n    setPassOK = _useState6[1];\n  var _useState7 = useState(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    pass = _useState8[0],\n    setPass = _useState8[1];\n  var _useState9 = useState(\"\"),\n    _useState10 = _slicedToArray(_useState9, 2),\n    passVerif = _useState10[0],\n    setPassVerif = _useState10[1];\n  var _useState11 = useState(null),\n    _useState12 = _slicedToArray(_useState11, 2),\n    error = _useState12[0],\n    setError = _useState12[1];\n  var getEmail = function getEmail(evt) {\n    setEmail(evt.target.value);\n  };\n  var getPseudo = function getPseudo(evt) {\n    setPseudo(evt.target.value);\n  };\n  var getPass = function getPass(evt) {\n    setPass(evt.target.value);\n  };\n  var getPassVerif = function getPassVerif(evt) {\n    setPassVerif(evt.target.value);\n  };\n  var submissionHandler = function submissionHandler(evt) {\n    if (pass === passVerif) setPassOK(false);else setPassOK(true);\n    evt.preventDefault();\n    setError(null);\n    if (!passOK) {\n      var data = new URLSearchParams();\n      data.append(\"email\", email);\n      data.append(\"pseudo\", pseudo);\n      data.append(\"password\", pass);\n      console.log(data);\n      axios.put(\"/user/register\", data, {\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        }\n      }).then(function (response) {\n        console.log(response.data);\n        props.setCurrentPage(\"login_page\");\n      }).catch(function (error) {\n        console.log(error.response.data);\n        setError(error.response.data);\n      });\n    }\n  };\n  var loginHandler = function loginHandler(evt) {\n    evt.preventDefault();\n    props.setCurrentPage(\"login_page\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: \"30px\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      name: \"register\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"pseudo\",\n        children: \"Nom d'utilisateur\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"pseudo\",\n        onChange: getPseudo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"register_login\",\n        children: \"Adresse e-mail\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"register_login\",\n        onChange: getEmail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"register_mdp1\",\n        children: \"Mot de passe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        id: \"register_mdp1\",\n        onChange: getPass\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"register_mdp2\",\n        children: \"Confirmez le mot de passe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        id: \"register_mdp2\",\n        onChange: getPassVerif\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), passOK && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"red\"\n        },\n        children: \"Veuillez reconfirmer le mot de passe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: \"red\"\n        },\n        children: [error.message, \" \", error.detail]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"register-input\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: submissionHandler,\n          children: \"M'inscrire\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"D\\xE9j\\xE0 inscrit ?\", /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"connexion\",\n          href: \"a\",\n          onClick: loginHandler,\n          children: \"Me connecter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(Register, \"9zJAhTa0VWU2kQZzWuWfAQk7K+M=\");\n_c = Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["useState","axios","jsxDEV","_jsxDEV","Register","props","_s","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","pseudo","setPseudo","_useState5","_useState6","passOK","setPassOK","_useState7","_useState8","pass","setPass","_useState9","_useState10","passVerif","setPassVerif","_useState11","_useState12","error","setError","getEmail","evt","target","value","getPseudo","getPass","getPassVerif","submissionHandler","preventDefault","data","URLSearchParams","append","console","log","put","headers","then","response","setCurrentPage","catch","loginHandler","style","marginTop","children","name","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","id","onChange","type","color","message","detail","className","onClick","href","_c","$RefreshReg$"],"sources":["/home/maarc/Fac/STL/S3/TPALT/osuProject/Osu-BeatAdvisor/client/src/Composants/Register.js"],"sourcesContent":["import { useState } from \"react\";\nimport axios from \"axios\";\n\nexport default function Register(props) {\n  const [email, setEmail] = useState(\"\");\n  const [pseudo, setPseudo] = useState(\"\");\n  const [passOK, setPassOK] = useState(false);\n  const [pass, setPass] = useState(\"\");\n  const [passVerif, setPassVerif] = useState(\"\");\n  const [error, setError] = useState(null);\n\n  const getEmail = (evt) => {\n    setEmail(evt.target.value);\n  };\n  const getPseudo = (evt) => {\n    setPseudo(evt.target.value);\n  };\n  const getPass = (evt) => {\n    setPass(evt.target.value);\n  };\n  const getPassVerif = (evt) => {\n    setPassVerif(evt.target.value);\n  };\n  const submissionHandler = (evt) => {\n    if (pass === passVerif) setPassOK(false);\n    else setPassOK(true);\n    evt.preventDefault();\n    setError(null);\n    if (!passOK) {\n      const data = new URLSearchParams();\n      data.append(\"email\", email);\n      data.append(\"pseudo\", pseudo);\n      data.append(\"password\", pass);\n      console.log(data);\n      axios\n        .put(\"/user/register\", data, {\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\",\n          },\n        })\n        .then((response) => {\n          console.log(response.data);\n          props.setCurrentPage(\"login_page\");\n        })\n        .catch((error) => {\n          console.log(error.response.data);\n          setError(error.response.data);\n        });\n    }\n  };\n\n  const loginHandler = (evt) => {\n    evt.preventDefault();\n    props.setCurrentPage(\"login_page\");\n  };\n\n  return (\n    <div style={{ marginTop: \"30px\" }}>\n      <form name=\"register\">\n        <label htmlFor=\"pseudo\">Nom d'utilisateur</label>\n        <input id=\"pseudo\" onChange={getPseudo} />\n        <label htmlFor=\"register_login\">Adresse e-mail</label>\n        <input id=\"register_login\" onChange={getEmail} />\n        <label htmlFor=\"register_mdp1\">Mot de passe</label>\n        <input type=\"password\" id=\"register_mdp1\" onChange={getPass} />\n        <label htmlFor=\"register_mdp2\">Confirmez le mot de passe</label>\n        <input type=\"password\" id=\"register_mdp2\" onChange={getPassVerif} />\n        {passOK && (\n          <p style={{ color: \"red\" }}>Veuillez reconfirmer le mot de passe</p>\n        )}\n        {error && (\n          <p style={{ color: \"red\" }}>\n            {error.message} {error.detail}\n          </p>\n        )}\n        <div className=\"register-input\">\n          <button onClick={submissionHandler}>M'inscrire</button>\n        </div>\n        <span>\n          Déjà inscrit ?\n          <a className=\"connexion\" href=\"a\" onClick={loginHandler}>\n            Me connecter\n          </a>\n        </span>\n      </form>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}